<div class="container">
	<!--*********************************************************************************************************-->
	<!--***************************          Top Level Navigation                     ***************************-->
	<!--*********************************************************************************************************-->
	<input class="sheet_type" name="attr_sheet_type" type="hidden" value="pc">
	<input class="type" name="attr_sheet_type" type="hidden" value="core">
	<div class="tabs">
		<!-- Button to toggle on GM whisper -->
		<input class="whisper-toggle" name="attr_gm_toggle" type="hidden" value=" " /><button name="act_whisper" type="action">q</button>
		<!-- Buttons to change page view -->
		<button data-i18n="character" type="action" name="act_toggle_character">character</button>
		<button data-i18n="options" type="action" name="act_toggle_options">options</button>
		<button data-i18n="npc" type="action" name="act_toggle_npc">npc</button>
	</div>


	<!--*********************************************************************************************************-->
	<!--***************************             NPC SHEET                              ***************************-->
	<!--*********************************************************************************************************-->
	<div class="npc">
	</div>


	<!--*********************************************************************************************************-->
	<!--***************************             PC SHEET                              ***************************-->
	<!--*********************************************************************************************************-->
	<div class="pc">
		<!--
		<button type="roll" value="@{gm_toggle} &{template:rolls}{{header=Title}}{{dice=[[1d20]]}}{{desc=Some Text}}">A Button</button>
		<input name="attr_character_name" title="" type="text" placeholder="" value="" />
		<label title=""><span data-i18n=""></span><input name="attr_" title="" type="text" placeholder="" value="" /></label>
		-->
		<input name="attr_toggles" type="hidden" value="strength,dexterity,constitution,intelligence,wisdom,charisma," />
		<div class="pfrow character-row">
			<!-- Pathfinder Character Sheet -->
			<div>
				<span>Pathfinder Character Sheet placeholder</span>
			</div>
			<div>
				<label title="character name">
					<span data-i18n="character_name">character name</span>
					<input name="attr_character_name" title="@{character_name}" type="text" placeholder="character name" value="" />
				</label>
				<label title="player name">
					<span data-i18n="player_name">player name</span>
					<input name="attr_player_name" title="@{player_name}" type="text" placeholder="player name" value="" />
				</label>
				<label title="experienced points">
					<span data-i18n="xp">experienced points (xp)</span>
					<input name="attr_xp" title="@{xp}" type="text" placeholder="xp" value="" />
				</label>
			</div>
			<div>
				<label title="background">
					<span data-i18n="background">background</span>
					<input name="attr_background" title="@{background}" type="text" placeholder="background" value="" />
				</label>
				<label title="class">
					<span data-i18n="class">class</span>
					<input name="attr_class" title="@{class}" type="text" placeholder="class" value="" />
				</label>
				<label title="size">
					<span data-i18n="size">size</span>
					<input name="attr_size" title="@{size}" type="text" placeholder="size" value="" />
				</label>
				<label title="alignment">
					<span data-i18n="alignment">alignment</span>
					<input name="attr_alignment" title="@{alignment}" type="text" placeholder="alignment" value="" />
				</label>
				<label title="deity">
					<span data-i18n="deity">deity</span>
					<input name="attr_deity" title="@{deity}" type="text" placeholder="deity" value="" />
				</label>
			</div>
			<div>
				<label title="level">
					<span data-i18n="level">level</span>
					<input name="attr_level" title="@{level}" type="text" placeholder="level" value="" />
				</label>
				<label title="hero points">
					<span data-i18n="hero_points">hero points</span>
					<input name="attr_hero_points" title="@{hero_points}" type="text" placeholder="hero points" value="" />
				</label>
			</div>
		</div>
		<div class="pfrow ability-row">
			<div class="ability-col">
				<div class="ability">
					<h1 data-i18n="ability_scores">ability scores</h1>
					<div class="strength-row">
						<button class="pictos" name="act_toggle_strength" type="action">y</button>
						<div class="ability-modifier">
							<label title="str modifier">
								<span class="display" name="attr_strength_modifier" title="@{strength_modifier}" ></span>
								<span data-i18n="str">str</span>
								<span class="sublabel" data-i18n="modifier">modifier</span>
							</label>
						</div>
						<div class="ability-score">
							<label title="strength score">
								<input name="attr_strength_score" title="@{strength_score}" type="number" placeholder="0" value="0" />
								<span data-i18n="strength">strength</span>
								<span class="sublabel" data-i18n="score">score</span>
							</label>
						</div>
						<div class="settings">
							<label title="str modifier temporary">
								<input name="attr_strength_modifier_temporary" title="@{strength_modifier_temporary}" type="text" placeholder="0" value="0" />
								<span data-i18n="modifier">modifier</span>
								<span class="sublabel" data-i18n="temp">temp</span>
							</label>
							<label title="strength score temporary">
								<input name="attr_strength_score_temporary" title="@{strength_score_temporary}" type="text" placeholder="0" value="0" />
								<span data-i18n="score">score</span>
								<span class="sublabel" data-i18n="temp">temp</span>
							</label>
							<label title="notes">
								<span data-i18n="notes">notes</span>
								<input name="attr_strength_notes" title="@{strength_notes}" type="text" placeholder="Notes: +2 Racial, +1 condition..." value="" />
							</label>
						</div>
					</div>
					<div class="dexterity-row">
						<button class="pictos" name="act_toggle_dexterity" type="action">y</button>
						<div class="ability-modifier">
							<label title="dex modifier">
								<span class="display" name="attr_dexterity_modifier" title="@{dexterity_modifier}"></span>
								<span data-i18n="dex">dex</span>
								<span class="sublabel" data-i18n="modifier">modifier</span>
							</label>
						</div>
						<div class="ability-score">
							<label title="dexterity score">
								<input name="attr_dexterity_score" title="@{dexterity_score}" type="number" placeholder="0" value="0" />
								<span data-i18n="dexterity">dexterity</span>
								<span class="sublabel" data-i18n="score">score</span>
							</label>
						</div>
						<div class="settings">
							<label title="dex modifier temporary">
								<input name="attr_dexterity_modifier_temporary" title="@{dexterity_modifier_temporary}" type="text" placeholder="0" value="0" />
								<span data-i18n="modifier">modifier</span>
								<span class="sublabel" data-i18n="temp">temp</span>
							</label>
							<label title="dexterity score temporary">
								<input name="attr_dexterity_score_temporary" title="@{dexterity_score_temporary}" type="text" placeholder="0" value="0" />
								<span data-i18n="score">score</span>
								<span class="sublabel" data-i18n="temp">temp</span>
							</label>
							<label title="notes">
								<span data-i18n="notes">notes</span>
								<input name="attr_dexterity_notes" title="@{dexterity_notes}" type="text" placeholder="Notes: +2 Racial, +1 condition..." value="" />
							</label>
						</div>
					</div>
					<div class="constitution-row">
						<button class="pictos" name="act_toggle_constitution" type="action">y</button>
						<div class="ability-modifier">
							<label title="con modifier">
								<span class="display" name="attr_constitution_modifier" title="@{constitution_modifier}"></span>
								<span data-i18n="con">con</span>
								<span class="sublabel" data-i18n="modifier">modifier</span>
							</label>
						</div>
						<div class="ability-score">
							<label title="constitution score">
								<input name="attr_constitution_score" title="@{constitution_score}" type="number" placeholder="0" value="0" />
								<span data-i18n="constitution">constitution</span>
								<span class="sublabel" data-i18n="score">score</span>
							</label>
						</div>
						<div class="settings">
							<label title="con modifier temporary">
								<input name="attr_constitution_modifier_temporary" title="@{constitution_modifier_temporary}" type="text" placeholder="0" value="0" />
								<span data-i18n="modifier">modifier</span>
								<span class="sublabel" data-i18n="temp">temp</span>
							</label>
							<label title="constitution score temporary">
								<input name="attr_constitution_score_temporary" title="@{constitution_score_temporary}" type="text" placeholder="0" value="0" />
								<span data-i18n="score">score</span>
								<span class="sublabel" data-i18n="temp">temp</span>
							</label>
							<label title="notes">
								<span data-i18n="notes">notes</span>
								<input name="attr_constitution_notes" title="@{constitution_notes}" type="text" placeholder="Notes: +2 Racial, +1 condition..." value="" />
							</label>
						</div>
					</div>
					<div class="intelligence-row">
						<button class="pictos" name="act_toggle_intelligence" type="action">y</button>
						<div class="ability-modifier">
							<label title="int modifier">
								<span class="display" name="attr_intelligence_modifier" title="@{intelligence_modifier}"></span>
								<span data-i18n="int">int</span>
								<span class="sublabel" data-i18n="modifier">modifier</span>
							</label>
						</div>
						<div class="ability-score">
							<label title="intelligence score">
								<input name="attr_intelligence_score" title="@{intelligence_score}" type="number" placeholder="0" value="0" />
								<span data-i18n="intelligence">intelligence</span>
								<span class="sublabel" data-i18n="score">score</span>
							</label>
						</div>
						<div class="settings">
							<label title="int modifier temporary">
								<input name="attr_intelligence_modifier_temporary" title="@{intelligence_modifier_temporary}" type="text" placeholder="0" value="0" />
								<span data-i18n="modifier">modifier</span>
								<span class="sublabel" data-i18n="temp">temp</span>
							</label>
							<label title="intelligence score temporary">
								<input name="attr_intelligence_score_temporary" title="@{intelligence_score_temporary}" type="text" placeholder="0" value="0" />
								<span data-i18n="score">score</span>
								<span class="sublabel" data-i18n="temp">temp</span>
							</label>
							<label title="notes">
								<span data-i18n="notes">notes</span>
								<input name="attr_intelligence_notes" title="@{intelligence_notes}" type="text" placeholder="Notes: +2 Racial, +1 condition..." value="" />
							</label>
						</div>
					</div>
					<div class="wisdom-row">
						<button class="pictos" name="act_toggle_wisdom" type="action">y</button>
						<div class="ability-modifier">
							<label title="wis modifier">
								<span class="display" name="attr_wisdom_modifier" title="@{wisdom_modifier}" ></span>
								<span data-i18n="wis">wis</span>
								<span class="sublabel" data-i18n="modifier">modifier</span>
							</label>
						</div>
						<div class="ability-score">
							<label title="wisdom score">
								<input name="attr_wisdom_score" title="@{wisdom_score}" type="number" placeholder="0" value="0" />
								<span data-i18n="wisdom">wisdom</span>
								<span class="sublabel" data-i18n="score">score</span>
							</label>
						</div>
						<div class="settings">
							<label title="wis modifier temporary">
								<input name="attr_wisdom_modifier_temporary" title="@{wisdom_modifier_temporary}" type="text" placeholder="0" value="0" />
								<span data-i18n="modifier">modifier</span>
								<span class="sublabel" data-i18n="temp">temp</span>
							</label>
							<label title="wisdom score temporary">
								<input name="attr_wisdom_score_temporary" title="@{wisdom_score_temporary}" type="text" placeholder="0" value="0" />
								<span data-i18n="score">score</span>
								<span class="sublabel" data-i18n="temp">temp</span>
							</label>
							<label title="notes">
								<span data-i18n="notes">notes</span>
								<input name="attr_wisdom_notes" title="@{wisdom_notes}" type="text" placeholder="Notes: +2 Racial, +1 condition..." value="" />
							</label>
						</div>
					</div>
					<div class="charisma-row">
						<button class="pictos" name="act_toggle_charisma" type="action">y</button>
						<div class="ability-modifier">
							<label title="cha modifier">
								<span class="display" name="attr_charisma_modifier" title="@{charisma_modifier}"></span>
								<span data-i18n="cha">cha</span>
								<span class="sublabel" data-i18n="modifier">modifier</span>
							</label>
						</div>
						<div class="ability-score">
							<label title="charisma score">
								<input name="attr_charisma_score" title="@{charisma_score}" type="number" placeholder="0" value="0" />
								<span data-i18n="charisma">charisma</span>
								<span class="sublabel" data-i18n="score">score</span>
							</label>
						</div>
						<div class="settings">
							<label title="cha modifier temporary">
								<input name="attr_charisma_modifier_temporary" title="@{charisma_modifier_temporary}" type="text" placeholder="0" value="0" />
								<span data-i18n="modifier">modifier</span>
								<span class="sublabel" data-i18n="temp">temp</span>
							</label>
							<label title="charisma score temporary">
								<input name="attr_charisma_score_temporary" title="@{charisma_score_temporary}" type="text" placeholder="0" value="0" />
								<span data-i18n="score">score</span>
								<span class="sublabel" data-i18n="temp">temp</span>
							</label>
							<label>Notes</label>
							<input name="attr_charisma_notes" title="@{charisma_notes}" type="text" placeholder="Notes: +2 Racial, +1 chadition..." value="" />
						</div>
					</div>
				</div>
				<div class="classdc">
					<h1 data-i18n="class_dc">class dc</h1>
					<button class="pictos" name="act_toggle_class_dc" type="action">y</button>
					<label title="class dc">
						<span class="display" name="attr_class_dc"></span>
					</label>
					<div class="dcbase">
						<span class="sublabel">=</span>
						<span class="sublabel" data-i18n="dc_base">dc base</span>
						<span class="sublabel" data-i18n="10">10</span>
					</div>
					<label title="key">
						<span class="sublabel darkred" data-i18n="key">key</span><br />
						<input class="2em" name="attr_class_dc_key" title="@{class_dc_key}" type="text" placeholder="0" value="0" />
					</label>
					<label title="prof">
						<span class="sublabel darkred" data-i18n="prof">prof</span><br />
						<input class="2em" name="attr_class_dc_prof" title="@{class_dc_prof}" type="text" placeholder="0" value="0" />
					</label>
					<div class="bonus">
						<label title="t">
							<span class="sublabel darkred" data-i18n="t">t</span><br/>
							<input class="2em" name="attr_class_dc_t" title="@{class_dc_t}" type="text" placeholder="0" value="0" />
						</label>
						<label title="e">
							<span class="sublabel darkred" data-i18n="e">e</span><br/>
							<input class="2em" name="attr_class_dc_e" title="@{class_dc_e}" type="text" placeholder="0" value="0" />
						</label>
						<label title="m">
							<span class="sublabel darkred" data-i18n="m">m</span><br/>
							<input class="2em" name="attr_class_dc_m" title="@{class_dc_m}" type="text" placeholder="0" value="0" />
						</label>
						<label title="l">
							<span class="sublabel darkred" data-i18n="l">l</span><br/>
							<input class="2em" name="attr_class_dc_l" title="@{class_dc_l}" type="text" placeholder="0" value="0" />
						</label>
					</div>
					<label title="item">
						<span class="sublabel darkred" data-i18n="item">item</span><br/>
						<input class="2em" name="attr_class_dc_item" title="@{class_dc_item}" type="text" placeholder="0" value="0" />
					</label>
					<div class="settings">
						<label title="notes">
							<span data-i18n="notes">Notes</span>
							<input name="attr_class_dc_notes" title="@{class_dc_notes}" type="text" placeholder="Notes: +2 Racial, -1 condition..." value="" />
						</label>
					</div>
				</div>
			</div>
			<div class="ability-col">
				<div class="armorclass">
					<h1 data-i18n="armor_class">armor class</h1>
					<div class="armorclass-circle">
						<label title="ac">
							<span data-i18n="ac">ac</span>
							<span class="ac-circle" name="attr_ac" title="@{ac}"></span>
						</label>
					</div>
					<div class="armorclass-main">
						<!---DC Base row -->
						<div>
							<div class="dcbase">
								<span class="sublabel">=</span>
								<span class="sublabel" data-i18n="dc_base">dc base</span>
								<span class="sublabel" data-i18n="10">10</span>
							</div>
							<label title="dex">
								<span class="sublabel darkred" data-i18n="dex">dex</span><br/>
								<!-- UPDATE This needs to be updated later when I have rules-->
								<span class="display" name="attr_dexterity" title="@{dexterity}"></span>
							</label>
							<div class="dcbase">
								<span class="sublabel" data-i18n="or">or</span>
							</div>
							<label title="cap">
								<span class="sublabel darkred" data-i18n="cap">cap</span><br />
								<input class="2em" name="attr_armor_class_cap" title="@{armor_class_cap}" type="text" placeholder="0" value="0" />
							</label>
							<label title="prof">
								<span class="sublabel darkred" data-i18n="prof">prof</span><br />
								<input class="2em" name="attr_armor_class_prof" title="@{armor_class_prof}" type="text" placeholder="0" value="0" />
							</label>
							<div class="bonus">
								<label title="t">
									<span class="sublabel darkred" data-i18n="t">t</span><br/>
									<input class="2em" name="attr_armor_class_dc_t" title="@{class_dc_t}" type="text" placeholder="0" value="0" />
								</label>
								<label title="e">
									<span class="sublabel darkred" data-i18n="e">e</span><br/>
									<input class="2em" name="attr_armor_class_dc_e" title="@{class_dc_e}" type="text" placeholder="0" value="0" />
								</label>
								<label title="m">
									<span class="sublabel darkred" data-i18n="m">m</span><br/>
									<input class="2em" name="attr_armor_class_dc_m" title="@{class_dc_m}" type="text" placeholder="0" value="0" />
								</label>
								<label title="l">
									<span class="sublabel darkred" data-i18n="l">l</span><br/>
									<input class="2em" name="attr_armor_class_dc_l" title="@{class_dc_l}" type="text" placeholder="0" value="0" />
								</label>
							</div>
							<label title="item">
								<span class="sublabel darkred" data-i18n="item">item</span><br />
								<input class="2em" name="attr_armor_class_item" title="@{armor_class_item}" type="text" placeholder="0" value="0" />
							</label>
						</div>
						<!-- Unarmed row -->
						<div>
						</div>
						<hr />
						<!-- Shield row -->
						<div>
						</div>
					</div>
				</div>
				<div class="savingthrows">
				</div>
			</div>
			<div class="ability-col">
				<div class="hitpoints">
				</div>
				<div class="perception">
				</div>
			</div>
		</div>
	</div>

	<!--*********************************************************************************************************-->
	<!--***************************              FOOTER                               ***************************-->
	<!--*********************************************************************************************************-->
	<div class="footer">
		<span>Disclaimer</span>
		<span>Version </span><span name="attr_version"></span>
	</div>
</div><!-- End of Container div-->

<!--*********************************************************************************************************-->
<!--***************************          HIDDEN ATTRIBUTES                        ***************************-->
<!--*********************************************************************************************************-->
	<input type="hidden" name="attr_version" value="1" />

	<!-- Ability Scores -->
	<input name="attr_strength_modifier" type="hidden" value="0" />
	<input name="attr_dexterity_modifier" type="hidden" value="0" />
	<input name="attr_constitution_modifier" type="hidden" value="0" />
	<input name="attr_intelligence_modifier" type="hidden" value="0" />
	<input name="attr_wisdom_modifier" type="hidden" value="0" />
	<input name="attr_charisma_modifier" type="hidden"value="0" />

	<!--Class DC -->
	<input name="attr_class_dc" type="hidden" value="0" />

<!--*********************************************************************************************************-->
<!--***************************           ROLL TEMPLATE                           ***************************-->
<!--*********************************************************************************************************-->
	<div class="rolltemplates">
		<rolltemplate class="sheet-rolltemplate-rolls">
		 	<!--- Display a header on the template --->
    		<div class="sheet-template-header">
    			{{#header}}{{header}}{{/header}}
    		</div>
    		<!--- Display the dice roll in the template --->
	    	<div class="sheet-template-body">
	    		{{#dice}}
	    			<div class="sheet-template-row">{{dice}}</div>
	    		{{/dice}}
	    		<!--- Display a description. This is great for text included with a roll --->
		    	{{#desc}}
		    		<div class="sheet-template-row">
		    			<span class="sheet-template-desc">
		    			</span>
		    		</div>
	    		{{/desc}}
	    	</div>
		</rolltemplate>
	</div>

<!--*********************************************************************************************************-->
<!--***************************              SCRIPTS                              ***************************-->
<!--*********************************************************************************************************-->
<script type="text/worker">

['class_dc', 'strength', 'dexterity', 'constitution', 'intelligence', 'wisdom', 'charisma'].forEach(attr => {
	on(`clicked:toggle_${attr}`, (eventinfo) => {
		const trigger = eventinfo.triggerName.split("clicked:toggle_")[1];

		getAttrs(["toggles"], (v) => {
			let string = v[`toggles`];
			(string.includes(`${attr}`)) ? string = string.replace(`${attr},`, "") : string += `${attr},`;
			setAttrs({
				toggles : string
			});
		});
	});
});

/*on("clicked:whisper", function(eventinfo) {
	getAttrs(["gm_toggle"], function (v) {
		setAttrs({
			gm_toggle : (v.gm_toggle.includes("gm")) ?  " " : "/w gm"
		}); 
	});
});*/

</script>